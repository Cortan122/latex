\documentclass[a4paper]{article}
\usepackage{PZ}

\usepackage{graphicx}
\usepackage{verbatim}

\graphicspath{ {../asm/screenshots/} }

\begin{document}
  \titlePage{КОНСОЛЬНОЕ ПРИЛОЖЕНИЕ ДЛЯ НАХОЖДЕНИЯ МАТРИЦЫ АЛГЕБРАИЧЕСКИХ ДОПОЛНЕНИЙ С ПРИМЕНЕНИЕМ OPENMP}
  \newpage
  \tableofcontents
  \newpage

  \section{Текст задания}
  Найти алгебраическое дополнение для каждого элемента матрицы.
  Входные данные: целое положительное число $n$, произвольная матрица А размерности $n \times n$.
  Количество потоков является входным параметром, при этом размерность
  матриц может быть не кратна количеству потоков. Использовать OpenMP. \cite{task}

  \newpage
  \section{Применяемые расчетные методы}
  \subsection{Алгоритм вычисления}
  Алгебраическое дополнение это $A_{ij} = (-1)^{i+j}M_{ij}$, где $M_{ij}$ -- дополнительный минор, определитель матрицы,
  получающейся из исходной матрицы $A$ путём вычёркивания $i$-й строки и $j$-го столбца. \cite{math}
  Для вычисления определителя использовался рекурсивный алгоритм $\Delta=\sum_{j=1}^n (-1)^{1+j} a_{1j} M_j^1$. \cite{det}
  Именно поэтому программа не работает на матрицах больше чем $10 \times 10$.

  \subsection{Распределение по потокам}
  В предыдущей задачке распределять по потокам надо было ручками, и там это была самая сложная часть.
  А тут за нас это делает OpenMP.
  И поэтому эта задачка получилась раза в два проще.
  Тут мы как будто пишем однопоточный код и он сам становится многопоточным.
  Нужно только написать \texttt{\#pragma omp parallel for}, подключить \texttt{omp.h}
  и передать опцию \texttt{-fopenmp} компилятору, и наш код магически становится быстрее.

  % \newpage
  \subsection{Вывод результата в консоль}
  В консоль матрицы выводятся в JSON-подобном формате, чтобы их можно было сразу вставить в питон и проверить правильность результата.

  \subsection{Входные данные}
  На вход в аргументах командной строки (\texttt{argv}) подаются количество потоков и имя входного файла с матрицей.
  Имя входного файла опционально: если его нет то матрица будет читаться из консоли (\texttt{stdin}).
  Файл с матрицей имеет следующий формат: на перовой строке два целых числа -- размеры матрицы $n$ и $m$,
  потом идут $n \times m$ действительных чисел, разделённых пробельными символами (\texttt{'\textbackslash{}n'} или \texttt{' '}).

  \newpage
  \section{Тестовые примеры}
  Программа корректно работает с большими матрицами.
  Она даже может выбирать оптимальное количество потоков, если ей дать 0.
  \CRTfigref{ompmatrix_100_time.png}{Большая матрица}

  Программа работает с большими матрицами быстрее, когда у неё несколько потоков.
  \CRTfigref{ompmatrix_100_one.png}{Большая матрица с одним потоком}

  \newpage
  \section{Список использованной литературы}
  \begin{thebibliography}{3}
    \bibitem{task} Практические приемы построения многопоточных приложений [Электронный ресурс].
      //URL: \url{http://softcraft.ru/edu/comparch/tasks/t04/} (Дата обращения: 25.11.2020, режим доступа: свободный)
    % \bibitem{man} pthreads(7) Linux User's Manual [Электронный ресурс].
    %   //URL: \url{https://man7.org/linux/man-pages/man7/pthreads.7.html} (Дата обращения: 15.11.2020, режим доступа: свободный)
    \bibitem{math} Статья <<Алгебраическое дополнение>> Wikipedia.org
      //URL: \href{https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%B5%D0%B1%D1%80%D0%B0%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5}
      {\texttt{https://ru.wikipedia.org/wiki/Алгебраическое\\\-дополнение}}
      (Дата обращения: 15.11.2020, режим доступа: свободный)
    \bibitem{det} Статья <<Определитель>> Wikipedia.org
      //URL: \href{https://ru.wikipedia.org/wiki/%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8C}
      {\texttt{https://ru.wikipedia.org/wiki/Определитель}}
      (Дата обращения: 15.11.2020, режим доступа: свободный)
  \end{thebibliography}

  \newpage
  \section{Текст программы}
  \verbatiminput{../asm/task04/matrix_openmp.c}

\end{document}
